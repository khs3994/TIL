## Scope funtion
---
스코프 함수
- 함수형 언어의 특징을 좀더 편리하게 사용할수 있도록 기본 제공하는 함수들
- 클래스에서 생성한 인스턴스를 스코프함수에 제공하면 인스턴스의 속성이나 함수를 좀 더 편하게 사용 할수 있다
- 스코프 함수를 사용하면 메인과 별도의 스코프에서 인스턴스를 조작하므로 코드가 깔끔 해진다
```
종류
1. apply
2. run
3. with
4. let
5. also
```

### 1. apply 
- 인스턴스를 생성한후 변수에 담기전 초기화 과정을 수행할때 많이 쓰인다
``` kotlin
fun main() {
    var a = Book("책책책", 10000)
    // 책이름에 문자열을 추가후 Book class 내부의 discount 함수를 실행해보자

    //apply 를 사용하지 않을경우
    a.name = "[문자열]" + a.name
    a.discount()
    //참조연산자를 사용하여 속성과 함수를 사용할수 있다

    //apply 를 사용할 경우
    var a = Book("책책책", 10000).apply {
        name = "[문자열]" + name
        discount()
    }
    //이렇게 apply를 사용하면 참조연산자 없이도 apply 의 scope 안에서 인스턴스의 속성과 함수를 사용할수 있다
    //또한 apply는 인스턴스 자신을 다시한번 반환 하므로 생성되자마자 조작된 인스턴스를 변수에 바로 넣어줄수 있다
}

class Book(var name: String, var price: Int){
    fun discount()
    {
        price -= 2000
    }
}
```
### 2. run
- apply처럼 run scope 안에서는 참조 연산자를 사용하지 않아도 된다
- 이미 인스턴스가 만들어진 후에 인스턴스의 속성을 스코프 안에서 사용해야할때 유용하게 쓰인다
```kotlin
fun main() {
    var a = Book("책책책", 10000).apply {
        name = "[문자열]" + name
        discount()
    }

    //위의 변수 a의 내용을 run을 사용해서 출력
    a.run {
        println("책이름: ${name}, 가격: ${price}원")
    }
    //위처럼 이미 만들어진 인스턴스의 속성을 스코프안에서 사용할때 유용하다
}

class Book(var name: String, var price: Int){
    fun discount()
    {
        price -= 2000
    }
}
```
### 3. with
- run과 동일한 기능을 가지지만 인스턴스를 참조연산자 대신 패러미터로 받는다 
```kotlin
fun main() {
    ...
    a.run{..} //run 은 인스턴스를 참조연산자로 받고
    with(a){..} //with은 인스턴스를 패러미터로 받는다
}
```
### 4. also/let
- 각각 apply와 run과 같은 기능을 가지고 있다
- apply/also 처리가 끝나면 인스턴스를 반환
- run/let 처리가 끝나면 최종값을 반환
- also와 let은 it을 통해서 인스턴스를 사용할수 있다
- 이 함수들을 사용하는 이유는 스코프 바깥에 같은 이름의 변수나 함수가 중복되어 있는 경우 혼란을 방지하기 위해서 이다