## MVVM 디자인 패턴
---
### MVVM ?
```
액티비티에 여러 동작을을 계속 붙이다 보면 액티비티가 무거워져서 테스트와 유지보수가 힘들어 진다.

-> 이러한 문제들을 해결하기 위해 아키텍쳐 패턴이 등장했고 오늘 공부한 MVVM은 그 패턴들중 하나이다
```
### MVC와 MVVM의 차이점
---
#### MVC
```
- Model(Model class) - View(xml) - Controller(Activity)의 구조이다
- 액티비티가 컨트롤러의 역할을 하며 뷰와 연결되어 상호작용도 하고 모델과 연결되어 데이터도 처리함 -> 뷰와 모델 사이에서 중재자 역할
- 컨트롤러가 유저의 클릭액션 확인
    > 모델에 데이터 갱신 요청
    > 뷰에도 화면 업데이트 요청
```
* 액티비티(컨트롤러) 가 할일이 너무 많아짐
  
#### MVVM
```
- View(Activity) - ViewModel(ViewModelClass) - Model(Repository DB)의 구조
- View -> ViewModel -> Model의 작업 처리 
- 뷰에서 모델을 직접 참조하지 않음 대신 뷰에서 뷰모델을 관찰하여 데이터의 변경 사항을 감지함
```
* 이해를 돕기위한 그림
![ex_screenshot](/study%20android/imgfile/MVVM.png)
출처:https://aonee.tistory.com/48

### MVVM 의 장점
---
#### 1. 뷰가 데이터를 실시간으로 관찰한다
1. LiveData 즉, Observer 패턴을 이용 -> DB를 관찰하고 자동으로 UI 갱신 
   * 직접 뷰를 바꿔주는 번거로움이 없어지고 데이터와 불일치할 확률이 줄어듦
  
2. 생명주기로 부터 안전하다,메모리 누수 방지
    * 뷰모델을 통해 데이터 참조
      * 액티비티,프래그먼트의 생명주기를 따르지 않는다
      * 생명주기 동안 계속 살아있고 onDestroy()가 호출될 때 사라짐
    * 액티비티가 파괴되어도 뷰모델이 데이터를 홀드 하고있기 때문에 영향을 받지 않음
      * 불필요한 메모리 사용을 줄일수 있음
3. 역할 분리
    * UI,비즈니스 로직, 모델이 기능별로 모듈화 되어있다
      * 테스트 코드 작성하는게 수월해짐




###### 참고 사이트:https://woovictory.github.io/2019/06/10/Android-MVVM/


